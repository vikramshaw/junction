* API for Sign-up handler

** Logic behind sign-up handler
The *username* shoud be unique. Now using *if condition* we will be checking whether the *username* of the user exist in the database or not.
If it exist then it will show message *User already exist* and if it doesn't exist then it will add user using *(add user)* function.

*service.clj*
#+BEGIN_SRC
(defn sign-up [ds credentials]
 (jdbc/with-db-transaction [conn ds]
  (let [user (store/find-user-by-username conn (:username credentials)) 
        error [false {:message "Error adding User"}]
        already-exist [false {:message "User already exist"}]]
    (if (nil? user)
      [true (add-user! ds {:username (:username credentials)
                           :password (:password credentials)})]
      already-exist))))
#+END_SRC

*handler.clj*
#+BEGIN_SRC
(defn sign-up [req]
  (let [[ok? res] (service/sign-up (:datasource req)
                                   (:params req))]
    (if ok?
      {:status 201 :body res}
      {:status 401 :body res})))
#+END_SRC

* How to check that the sign-up handler is working or not? 
In terminal run this command

~curl -i -X POST -d '{"username": "test1", "password":"secret"}' -H "Content-type: application/json" http://localhost:4000/sign-up~

Now if the username in database is *not present* then it will give the output as:
#+BEGIN_SRC
HTTP/1.1 201 Created
Date: Sun, 12 Jan 2020 10:22:36 GMT
Content-Length: 0
Server: Jetty(9.4.12.v20180830)
#+END_SRC

If it is *present* in the database:
#+BEGIN_SRC
HTTP/1.1 401 Unauthorized
Date: Sun, 12 Jan 2020 10:25:24 GMT
Content-Type: application/json;charset=utf-8
Content-Length: 32
Server: Jetty(9.4.12.v20180830)

{"message":"User already exist"}
#+END_SRC
