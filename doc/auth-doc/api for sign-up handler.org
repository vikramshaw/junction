* API for Sign-up handler

** Logic behind sign-up handler
The *username* shoud be unique. Now using *if condition* we will be checking whether the *username* of the user exist in the database or not.
If it exist then it will show message *User already exist* and if it doesn't exist then it will add user using *(add user)* function.

*service.clj*
#+BEGIN_SRC
(defn sign-up [ds credentials]
 (jdbc/with-db-transaction [conn ds]
  (let [user (store/find-user-by-username conn (:username credentials)) 
        error [false {:message "Error adding User"}]
        already-exist [false {:message "User already exist"}]]
    (if (nil? user)
      [true (add-user! ds {:username (:username credentials)
                           :password (:password credentials)})]
      already-exist))))
#+END_SRC

*handler.clj*
#+BEGIN_SRC
(defn sign-up [req]
  (let [[ok? res] (service/sign-up (:datasource req)
                                   (:params req))]
    (if ok?
      {:status 201 :body res}
      {:status 401 :body res})))
#+END_SRC
 
